{% extends 'base.html' %}
{% block content %}
  <div class="card">
    <h2>Audit Log</h2>
    <p class="footer-note">Immutable event trail for contracts and vendors.</p>
  </div>

  <div class="card">
    <table class="table">
      <thead>
        <tr>
          <th>Action</th>
          <th>Actor</th>
          <th>Contract</th>
          <th>Details</th>
          <th>Timestamp</th>
        </tr>
      </thead>
      <tbody>
        {% for audit in audits %}
          <tr>
            <td>{{ audit['action'] }}</td>
            <td>{{ audit['actor'] }}</td>
            <td>{{ audit['contract_title'] or '—' }}</td>
            <td>{{ audit['details'] or '—' }}</td>
            <td>{{ audit['created_at'] }}</td>
          </tr>
        {% else %}
          <tr>
            <td colspan="5">No audit events recorded.</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% endblock %}
